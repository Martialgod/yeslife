angular.module("app",["AppServices"]).constant("API_URL","/mail").config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]).controller("BlogDetailsController",["$http","SQLSTATEFactory","API_URL","GlobalFactory",function(e,o,s,t){var n=this;n.pk_posts=$("#postid").val(),n.search=null,n.mscreviews=[],n.navlinks={},n.meta={},n.LoadReviews=function(o){o=o||"/blog/"+n.pk_posts+"/reviews?v="+Math.random(),n.mscreviews=[],e.get(o).then(function(e){var o=e.data;n.navlinks=o.links,n.meta=o.meta,n.mscreviews=o.data,hideCustomizeLoading()},function(e){swal("Opps!","Something went wrong!","error"),console.log(e.data),hideCustomizeLoading()})},n.PostReviews=function(o){o.preventDefault(),$("#form-reviews").valid()&&(showCustomizeLoading(),e.post("/blog/"+n.pk_posts+"/reviews",$("#form-reviews").serializeArray()).then(function(e){console.log(e);var o=e.data;n.navlinks=o.links,n.meta=o.meta,n.mscreviews=o.data,hideCustomizeLoading(),$("#comments").val(""),swal("Success","Your comment has been posted!","success")},function(e){console.log(e),swal("Opps!","Errors found! <br> Please see logs","error"),hideCustomizeLoading()}))},showCustomizeLoadingNoIcon(),setTimeout(function(){n.LoadReviews()},500)}]);