angular.module("app",["AppServices"]).constant("API_URL","/mail").config(["$httpProvider",function(o){o.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]).controller("ShopController",["$http","SQLSTATEFactory","API_URL","GlobalFactory",function(o,t,r,d){var i=this;i.search=null,i.mscproducts=[],i.navlinks={},i.meta={},$("#div-toolbar").prop("hidden",!0),$("#div-products").prop("hidden",!0),i.StringifyStars=function(){i.mscproducts.forEach(function(o,t){o.stars_string="";for(var r=1;r<=o.ratings;r++)o.stars_string+='<i class="fa fa-star"></i>'})},i.LoadProducts=function(t){t=t||"/shop-search?v="+Math.random(),i.mscproducts=[],$("#div-toolbar").prop("hidden",!0),$("#div-products").prop("hidden",!0),o.post(t,{search:i.search}).then(function(o){var t=o.data;i.navlinks=t.links,i.meta=t.meta,i.mscproducts=t.data,i.StringifyStars(),hideCustomizeLoading(),$("#div-toolbar").prop("hidden",!1),$("#div-products").prop("hidden",!1)},function(o){swal("Opps!","Something went wrong!","error"),console.log(o),hideCustomizeLoading(),$("#div-toolbar").prop("hidden",!1),$("#div-products").prop("hidden",!1)})},i.AddToCart=function(o){var t={productid:o.productid,qty:o.selectedqty};addCartCookie(t)},i.RemoveFromCart=function(o){removeCartCookie(o.productid)},i.SearchProducts=function(){showCustomizeLoading(),i.mscproducts=[],i.LoadProducts()},showCustomizeLoading(),setTimeout(function(){i.LoadProducts()},500)}]);