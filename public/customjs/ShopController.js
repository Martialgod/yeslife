angular.module("app",["AppServices"]).constant("API_URL","/mail").config(["$httpProvider",function(o){o.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]).controller("ShopController",["$http","SQLSTATEFactory","API_URL","GlobalFactory",function(o,t,r,e){var a=this;a.search=null,a.msccategories=[],a.category="All",a.categorydescription="<h4> All Categories <h4>",a.sortby="default",a.mscproducts=[],a.navlinks={},a.meta={},a.StringifyStars=function(){a.mscproducts.forEach(function(o,t){o.stars_string="";for(var r=1;r<=o.ratings;r++)o.stars_string+='<i class="fa fa-star"></i>'})},a.LoadCategories=function(){o.get("/shop-categories?v="+Math.random(),{}).then(function(o){var t=o.data;a.msccategories=t,hideCustomizeLoading()},function(o){swal("Opps!","Something went wrong!","error"),console.log(o)})},a.LoadProducts=function(t){t=t||"/shop-search?v="+Math.random(),"All"==a.category?a.categorydescription="<h4> All Categories <h4>":a.msccategories.forEach(function(o,t){a.category==o.pk_category&&(a.categorydescription="<h4>"+o.description+"</h4>"+o.description2)}),a.mscproducts=[],o.post(t,{search:a.search,category:a.category,sortby:a.sortby}).then(function(o){var t=o.data;a.navlinks=t.links,a.meta=t.meta,a.mscproducts=t.data,a.StringifyStars(),hideCustomizeLoading()},function(o){swal("Opps!","Something went wrong!","error"),console.log(o),hideCustomizeLoading()})},a.AddToCart=function(o){var t={productid:o.productid,qty:o.selectedqty};addCartCookie(t)},a.GlobalBuyNow=function(o){GlobalBuyNow(o.productid,1)},a.RemoveFromCart=function(o){removeCartCookie(o.productid)},a.SearchProducts=function(){showCustomizeLoadingNoIcon(),a.mscproducts=[],a.LoadProducts()},showCustomizeLoadingNoIcon(),setTimeout(function(){a.LoadProducts(),setTimeout(function(){a.LoadCategories()},500)},500)}]);