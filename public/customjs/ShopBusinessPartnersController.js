angular.module("app",["AppServices"]).constant("API_URL","/shop").config(["$httpProvider",function(t){t.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]).controller("ShopBusinessPartnersController",["$http","SQLSTATEFactory","API_URL","GlobalFactory",function(t,e,o,s){var c=this;c.search=null,c.category="All",c.sortby="default",c.mscproducts=[],c.navlinks={},c.meta={},c.LoadCategories=function(){t.get("/shop-categories?v="+Math.random(),{}).then(function(t){var e=t.data;c.msccategories=e,hideCustomizeLoading()},function(t){swal("Opps!","Something went wrong!","error"),console.log(t)})},c.LoadProducts=function(e){e=e||"/shop-search?v="+Math.random(),c.mscproducts=[],t.post(e,{shoptype:"businesspartners",search:c.search,category:c.category,sortby:c.sortby}).then(function(t){var e=t.data;c.navlinks=e.links,c.meta=e.meta,c.mscproducts=e.data,hideCustomizeLoading()},function(t){swal("Opps!","Something went wrong!","error"),console.log(t),hideCustomizeLoading()})},c.UpdateCart=function(t,e){if(e.selectedqty=isNaN(e.selectedqty)||null==e.selectedqty||""==e.selectedqty?0:e.selectedqty,"plus"==t?e.selectedqty++:"minus"==t&&e.selectedqty--,e.selectedqty<=0&&(e.selectedqty=0),e.selectedqty>0){var o={productid:e.productid,qty:e.selectedqty};document.cookie="yeslifecart_"+o.productid+"=0; path=/",addCartCookie(o)}else removeCartCookie(e.productid)},c.SearchProducts=function(){showCustomizeLoadingNoIcon(),c.mscproducts=[],c.LoadProducts()},showCustomizeLoadingNoIcon(),setTimeout(function(){c.LoadProducts(),setTimeout(function(){c.LoadCategories()},500)},500)}]);